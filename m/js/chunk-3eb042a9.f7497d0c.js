(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3eb042a9"],{baac:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{key:t.getObituaryList,attrs:{id:"wrap"}},[i("header",{attrs:{id:"sub"}},[i("div",{staticClass:"header_wrap"},[i("h1",[t._v("부고검색")]),i("a",{on:{click:t.obituaryReg}},[t._m(0)])])]),i("div",{attrs:{id:"search_area"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.searchType,expression:"searchType"}],staticClass:"selectStyle",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.searchType=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"name"}},[t._v("고인명")]),i("option",{attrs:{value:"master"}},[t._v("상주명")]),i("option",{attrs:{value:"phone"}},[t._v("상주전화번호")])]),i("div",{staticClass:"searchinput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTxt,expression:"searchTxt"}],staticClass:"inputStyle",attrs:{type:"text",placeholder:"검색어를 입력해주세요"},domProps:{value:t.searchTxt},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.requestSearch()},input:function(e){e.target.composing||(t.searchTxt=e.target.value)}}}),i("button",{staticClass:"searchBtnStyle",on:{click:function(e){return t.requestSearch()}}},[t._v("검색버튼")])])]),i("div",{staticClass:"bugo_tab_area"},[i("ul",{staticClass:"bugo_tab"},[i("li",{class:"ing"===t.endFlag?"active":"",on:{click:function(e){return t.requestSearch("ing")}}},[t._v("장례식중")]),i("li",{class:"end"===t.endFlag?"active":"",on:{click:function(e){return t.requestSearch("end")}}},[t._v("발인")]),i("li",{class:"all"===t.endFlag?"active":"",on:{click:function(e){return t.requestSearch("all")}}},[t._v("전체")])])]),i("div",{class:["bugo_tab_contents bugo-first",t.bugoAddCladd]},t._l(t.getObituaryList,(function(e,a){return i("div",{key:a,staticClass:"bugo_list"},[i("p",{staticClass:"style01"},["TYPE-0"===t.memberInfo.memberAttr?i("span",[t._v(t._s(null!==e.obituaryMortuary?e.obituaryMortuary.mortuaryNumber:"빈소없음"))]):t._e(),"TYPE-1"===t.memberInfo.memberAttr?i("span",[t._v(t._s(e.obituaryAddrName+" "+(null!==e.obituaryMortuaryName?e.obituaryMortuaryName:"")))]):t._e(),"Y"===e.endFlag?i("span",[t._v("장례중")]):t._e(),"N"===e.endFlag?i("span",{staticClass:"vacancy"},[t._v("발인")]):t._e()]),i("p",{staticClass:"style02"},[i("span",[t._v("고인명 : "+t._s(e.obituaryName))]),null===e.obituaryObituaryMember||void 0===e.obituaryObituaryMember||0===e.obituaryObituaryMember.length?[i("span",[t._v(" : 상주없음 ")])]:t._l(e.obituaryObituaryMember,(function(a,r){return[a.obituaryMemberLeader?i("span",{key:r},[t._v(" : "+t._s(a.obituaryMemberName)+" 외 "+t._s(e.obituaryObituaryMember.length)+"명 ")]):t._e()]}))],2),i("p",{staticClass:"style03"},[i("span",[t._v("발인일시 : "),i("span",{staticClass:"bugo_number"},[t._v(t._s(t.YYSLASHDate(e.obituaryEndDate)))])]),i("span",[t._v("등록일 : "),i("span",{staticClass:"bugo_number"},[t._v(t._s(t.YYSLASHDate(e.regDate)))])])]),i("p",{staticClass:"style05"},[i("button",{staticClass:"btn_style05",on:{click:function(i){return t.obituaryUpdate(e.id)}}},[t._v("부고수정")]),i("button",{staticClass:"btn_style05",on:{click:function(i){return t.obituaryView(e)}}},[t._v("부고보기")]),null!==e.obituaryObituaryMember&&void 0!==e.obituaryObituaryMember&&0!==e.obituaryObituaryMember.length?i("button",{staticClass:"btn_style05",on:{click:function(i){return t.obituaryTrans(e.obituaryObituaryMember,"obituary")}}},[t._v("개별발송")]):t._e(),null!==e.obituaryObituaryMember&&void 0!==e.obituaryObituaryMember&&0!==e.obituaryObituaryMember.length?i("button",{staticClass:"btn_style05",on:{click:function(i){return t.obituaryTrans(e.obituaryObituaryMember,"obituaryAll")}}},[t._v("단체발송")]):t._e(),"0230102000"!==t.memberInfo.id&&"test2"!==t.memberInfo.id||null===e.obituaryObituaryMember||void 0===e.obituaryObituaryMember||0===e.obituaryObituaryMember.length||null!==e.obituaryCorp&&void 0!==e.obituaryCorp&&"CORP-20"===e.obituaryCorp.codeId?t._e():i("button",{staticClass:"btn_style05",on:{click:function(i){return t.obituaryTrans(e.obituaryObituaryMember,"movie")}}},[t._v("추모영상")]),i("button",{staticClass:"btn_style05",on:{click:function(i){return t.obituaryReply(e.obituaryObituaryMember,e.id)}}},[t._v("답조글")]),(e.endFlag,i("button",{staticClass:"btn_style05",on:{click:function(i){return t.obituaryDelete(e)}}},[t._v("발인")]))])])})),0),i("div",{attrs:{id:"contents"}},[i("div",{staticClass:"paging"},[1!==t.startPage?i("button",{staticClass:"prev",on:{click:function(e){return t.onPageChange(t.startPage-1)}}},[t._v("이전")]):t._e(),t._l(t.pages(),(function(e,a){return i("a",{key:a,class:e===t.getObituaryPage?"on":"",on:{click:function(i){return t.onPageChange(e)}}},[t._v(t._s(e))])})),t.getObituaryPageTotal>t.endPage?i("button",{staticClass:"next",on:{click:function(e){return t.onPageChange(t.endPage+1)}}},[t._v("다음")]):t._e()],2)]),i("Footer")],1),t.mobileUserPopupFlag?i("MobileSmsPush",{attrs:{mobileSmsType:t.mobileSmsType,pitems:t.obituaryUserItems,transClose:t.transClose,obituaryId:t.obituaryId}}):t._e()],1)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"reg_btn"},[i("div",{staticClass:"reg_btn_txt"},[t._v("부고 등록")])])}],s=(i("99af"),i("c975"),i("ac1f"),i("5319"),i("5530")),o=i("cdaa"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mobile_obituary_user active"},[i("div",{staticClass:"mobile_obituary_user_inner"},[i("div",{staticClass:"address",staticStyle:{"margin-top":"32px"}},[i("div",{staticStyle:{width:"100%",height:"440px",overflow:"auto","overflow-x":"hidden"}},[i("table",{attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},["movie"!=t.mobileSmsType?t._l(t.items,(function(e,a){return i("tr",{key:a,staticStyle:{color:"#999","border-bottom":"1px solid #ccc"}},[i("td",{staticStyle:{padding:"8px 0 8px"},attrs:{width:"100%"}},[i("button",{staticStyle:{float:"left",width:"50%",height:"27px"},on:{click:function(i){return t.transSms(e)}}},[i("p",[t._v(t._s(e.obituaryMemberType))]),t._v(" "+t._s(e.obituaryMemberName))]),"obituaryAll"==t.mobileSmsType||"obituary"==t.mobileSmsType?i("button",{staticStyle:{float:"right",width:"22%","font-size":"10px",height:"27px",background:"gray",color:"#ffffff"},on:{click:function(i){return t.transSmsOnly(e)}}},[t._v("부의금 개인등록")]):t._e(),"obituaryAll"==t.mobileSmsType||"obituary"==t.mobileSmsType?i("button",{staticStyle:{float:"right",width:"22%","font-size":"10px",height:"27px",background:"gray",color:"#ffffff","margin-right":"3%"},on:{click:function(i){return t.transSms(e)}}},[t._v("부고 단체등록")]):t._e()])])})):t._e()],2)])])]),i("button",{staticClass:"btn_address_colse",on:{click:function(e){return t.transClose()}}},[t._v("닫기")])])},u=[],l={name:"AddressSearch",props:["methods","pitems","transClose","mobileSmsType","obituaryId"],data:function(){return{address:"",allChecked:!1,items:[]}},mounted:function(){this.items=this.pitems},computed:{},methods:{transSmsOnly:function(t){if("obituary"===this.mobileSmsType){var e={id:t.id,phone:t.obituaryMemberPhone,obituaryMemberId:t.id};this.$store.dispatch("REQUEST_OBITUARY_SEND_ONLY_MOBILE",e)}else if("obituaryAll"===this.mobileSmsType){var i={id:t.id,phone:t.obituaryMemberPhone,obituaryMemberId:t.id};this.$store.dispatch("REQUEST_OBITUARY_ALL_SEND_ONLY_MOBILE",i)}},transSms:function(t){if("obituary"===this.mobileSmsType){var e={id:t.id,phone:t.obituaryMemberPhone,obituaryMemberId:t.id};this.$store.dispatch("REQUEST_OBITUARY_SEND_MOBILE",e)}else if("movie"===this.mobileSmsType){var i={id:t.id,phone:t.obituaryMemberPhone,obituaryMemberId:t.id};this.$store.dispatch("REQUEST_OBITUARY_ALL_SEND_MOVIE_MOBILE",i)}else if("obituaryAll"===this.mobileSmsType){var a={id:t.id,phone:t.obituaryMemberPhone,obituaryMemberId:t.id};this.$store.dispatch("REQUEST_OBITUARY_ALL_SEND_MOBILE",a)}else if("reply"===this.mobileSmsType){var r="".concat("https://obituary.jrbaksa.com","/api/obituary/reply?id=").concat(this.obituaryId),s="[답례인사 안내]\n\n상주님, 이번 상중에 조의를 표한 조문객분들께 감사 인사를 보내시도록 답례 인사 예시문을 보내드립니다\n\n 내용일 확인, 수정하신 후 답례글을 보내세요\n\n아래 url 또는 아래 버튼을 누르시면 확인 하실 수  있습니다.\n\n [답례인사 예시문]\n"+r+"\n\n다시한번 고인의 명복을 빕니다",o=s.replace(/(\n|\r\n)/g,"%0a");o=s;var n=navigator.userAgent.toLowerCase(),u="";u=n.indexOf("android")>-1?"android":n.indexOf("iphone")>-1||n.indexOf("ipad")>-1||n.indexOf("ipod")>-1?"ios":"other",location.href="sms:"+t.obituaryMemberPhone+("ios"==u?"&":"?")+"body="+encodeURIComponent(o)}}}},b=l,c=i("2877"),y=Object(c["a"])(b,n,u,!1,null,null,null),d=y.exports,h=i("e09c"),p=i("2f62"),m={name:"ObituartList",mixins:[h["a"]],components:{Footer:o["a"],MobileSmsPush:d},data:function(){return{mobileSmsType:"",mobileUserPopupFlag:!1,obituaryUserItems:[],obituary:{id:null,obituaryName:null,obituaryAge:null,obituaryAgeYn:null,obituarySex:null,obituarySexYn:null,obituaryMortuary:null,obituaryCode:null,obituaryDieYn:null,obituaryDieDate:null,obituaryEnterDate:null,obituaryCasketDate:null,obituaryCasketYn:null,obituaryReligionDate:null,obituaryReligionYn:null,obituaryEndDate:null,obituaryPlace:null,obituaryText:null,page:{page:this.$route.query.page?this.$route.query.page:0,size:this.$route.query.size?this.$route.query.size:8,sort:this.$route.query.sort?this.$route.query.sort:"regDate,desc"}},endFlag:this.$route.query.endFlag?this.$route.query.endFlag:"ing",searchTxt:this.$route.query.searchTxt?this.$route.query.searchTxt:"",searchType:this.$route.query.searchType?this.$route.query.searchType:"name",obituaryId:"",pages:function(){for(var t=[],e=this.startPage;e<=this.endPage;e+=1)t.push(e);return t}}},computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])(["getObituaryList","getObituaryPage","getObituaryPageTotal","getObituaryTotalElements","getObituaryCount","memberInfo"])),{},{startPage:function(){return 5*parseInt((this.getObituaryPage-1)/5)+1},endPage:function(){return 5*(parseInt((this.getObituaryPage-1)/5)+1)<this.getObituaryPageTotal?5*(parseInt((this.getObituaryPage-1)/5)+1):this.getObituaryPageTotal},bugoAddCladd:function(){return"all"===this.endFlag||"ing"===this.endFlag?"bugo-first":""}}),created:function(){},mounted:function(){this.requestGetObituaryList()},beforeDestroy:function(){this.$store.commit("OBITUARY_INIT")},methods:{transClose:function(){this.mobileUserPopupFlag=!1},obituaryTrans:function(t,e){if("movie"==e){if(t.length>0)if(null!==t[0].obituaryMemberPhone&&void 0!==t[0].obituaryMemberPhone&&""!==t[0].obituaryMemberPhone){if(confirm("고객한테 제작 안내 메시지가 발송됩니다. 전송하시겠습니까? (제3자 개인정보 동의로 간주함)")){var i={id:t[0].id,phone:t[0].obituaryMemberPhone,obituaryMemberId:t[0].id};this.$store.dispatch("REQUEST_OBITUARY_ALL_SEND_MOVIE_MOBILE",i)}}else alert("첫번째 사용자의 전화번호를 입력해 주세요.")}else this.mobileSmsType=e,this.obituaryUserItems=t,this.mobileUserPopupFlag=!0},obituaryReply:function(t,e){if(null!==t&&void 0!==t&&t.length>0)this.mobileSmsType="reply",this.obituaryUserItems=t,this.mobileUserPopupFlag=!0,this.obituaryId=e;else{var i="".concat("https://obituary.jrbaksa.com","/api/obituary/reply?id=").concat(e),a="[답례인사 안내]\n\n상주님, 이번 상중에 조의를 표한 조문객분들께 감사 인사를 보내시도록 답례 인사 예시문을 보내드립니다\n\n 내용일 확인, 수정하신 후 답례글을 보내세요\n\n아래 url 또는 아래 버튼을 누르시면 확인 하실 수  있습니다.\n\n [답례인사 예시문]\n"+i+"\n\n다시한번 고인의 명복을 빕니다",r=a.replace(/(\n|\r\n)/g,"%0a");r=a;var s=navigator.userAgent.toLowerCase(),o="";o=s.indexOf("android")>-1?"android":s.indexOf("iphone")>-1||s.indexOf("ipad")>-1||s.indexOf("ipod")>-1?"ios":"other",location.href="sms:"+("ios"==o?"&":"?")+"body="+encodeURIComponent(r)}},obituaryReg:function(){this.$router.push("/obituaryReg")},obituaryUpdate:function(t){this.$router.push({path:"/obituaryUpdate",query:{id:t}})},requestGetObituaryList:function(){var t={obituary:this.obituary,endFlag:this.endFlag,searchTxt:this.searchTxt,searchType:this.searchType};this.$store.dispatch("REQUEST_OBITUARY_LIST",t)},requestSearch:function(t){null!==t&&void 0!==t&&(this.endFlag=t),this.requestObituaryList()},onPageChange:function(t){var e={page:t};this.requestObituaryList(e)},requestObituaryList:function(t){var e=0;void 0!==t&&null!==t&&void 0!==t.page&&null!==t.page&&(e=t.page-1),this.$router.push({path:"/obituaryList",query:{endFlag:this.endFlag,searchTxt:this.searchTxt,searchType:this.searchType,page:e,size:this.obituary.page.size,sort:this.obituary.page.sort}})},obituaryDelete:function(t){if("Y"===t.endFlag){if(confirm("해당 부고는 현재 장례를 진행중에 있습니다. 발인 시키겠습니까?")){var e={obituary:{id:t.id,page:this.obituary.page},endFlag:this.endFlag,searchTxt:this.searchTxt,searchType:this.searchType};this.$store.dispatch("REQUEST_DO_ENDTIME_OBITUARY",e)}}else if(confirm("해당 부고를 삭제하시겠습니까?")){var i={obituary:{id:t.id,page:this.obituary.page},endFlag:this.endFlag,searchTxt:this.searchTxt,searchType:this.searchType};this.$store.dispatch("REQUEST_DELETE_OBITUARY",i)}},obituaryInfiDelete:function(t){if(confirm("해당 부고를 삭제하시겠습니까?")){var e={obituary:{id:t.id,page:this.obituary.page},endFlag:this.endFlag,searchTxt:this.searchTxt,searchType:this.searchType};this.$store.dispatch("REQUEST_DELETE_OBITUARY",e)}},obituaryView:function(t){this.$store.dispatch("REQUEST_ENCODE",t.id).then((function(t){t.result&&window.open("".concat("https://obituary.jrbaksa.com","/api/obituary?id=").concat(t.str),"부고장")}))}}},g=m,_=Object(c["a"])(g,a,r,!1,null,null,null);e["default"]=_.exports},cdaa:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"footer"}},[i("button",{staticClass:"btn_back",on:{click:t.back}},[t._v("보기")]),i("button",{staticClass:"btn_home",on:{click:t.home}},[t._v("보기")])])},r=[],s=i("5530"),o=i("e09c"),n=i("2f62"),u={name:"Header",mixins:[o["a"]],props:[],data:function(){return{}},computed:Object(s["a"])({},Object(n["b"])([])),mounted:function(){this.$store.commit("END_DEEMED"),this.$nextTick((function(){this.allLoadingEvent()}))},methods:{home:function(){this.$router.push("/")},back:function(){this.$router.go(-1)}}},l=u,b=i("2877"),c=Object(b["a"])(l,a,r,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-3eb042a9.f7497d0c.js.map